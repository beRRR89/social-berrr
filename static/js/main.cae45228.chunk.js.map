{"version":3,"sources":["api/api.js","components/Navbar/Navbar.module.scss","components/Navbar/Navbar.js","components/Header/Header.js","components/Header/HeaderContainer.js","redux/appReducer.js","redux/sidebarReducer.js","redux/reduxStore.js","App.js","index.js","redux/authReducer.js","components/Header/Header.module.scss","redux/profileReducer.js","utils/helpers/objectHelpers.js","redux/usersReducer.js","components/Preloader/Preloader.js","components/Preloader/index.js","redux/dialogsReducer.js","components/Preloader/Preloader.module.scss"],"names":["instance","axios","create","baseURL","responseType","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","authAPI","me","login","email","password","rememberMe","logout","getStatus","updateStatus","status","put","module","exports","Navbar","props","className","styles","nav","item","to","activeClassName","active","Header","isAuth","header","alt","src","loginBlock","onClick","HeaderContainer","this","Component","connect","state","auth","SET_INITIALIZED","initialState","initialized","appReducer","action","type","friends","id","name","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebarPage","usersPage","usersReducer","authReducer","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","React","lazy","ProfileContainer","UsersContainer","LoginPage","App","initializeApp","fallback","exact","path","render","Preloader","AppContainer","withRouter","dispatch","getAuthData","getAuthUserData","Promise","all","MainApp","ReactDOM","document","getElementById","SET_USER_DATA","setAuthUserData","payload","a","resultCode","formData","message","messages","length","stopSubmit","_error","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_USER_STATUS","profile","posts","likesCount","addPostActionCreator","postText","setUserStatus","getUserStatus","updateUserStatus","getUserProfile","newPost","filter","el","updateObjectInArray","items","itemId","objectPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","TOGGLE_IS_FETCHING","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","requestUsers","page","totalCount","followed","fake","ldsDefault","SEND_MESSAGE","dialogs","sendMessageCreator","newMessageBody","body"],"mappings":"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","file":"static/js/main.cae45228.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\tresponseType: 'json',\r\n\twithCredentials: true,\r\n\theaders: {\r\n\t\t\"API-KEY\": \"ed29ee6c-be93-4eec-a6b7-fad1faaa2120\"\r\n\t}\r\n});\r\n\r\nexport const usersAPI = {\r\n\tgetUsers: (currentPage = 1, pageSize = 10) => {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data\r\n\t\t\t})\r\n\t},\r\n\tfollow: (userId) => {\r\n\t\treturn instance.post(`follow/${userId}`, null)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data;\r\n\t\t\t})\r\n\t},\r\n\tunfollow: (userId) => {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data;\r\n\t\t\t})\r\n\t},\r\n\tgetProfile: (userId) => {\r\n\t\tconsole.warn('Outdated method. Please use profileAPI object.');\r\n\t\treturn profileAPI.getProfile(userId);\r\n\t}\r\n};\r\n\r\nexport const authAPI = {\r\n\tme: () => {\r\n\t\treturn instance.get(`auth/me`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data;\r\n\t\t\t});\r\n\t},\r\n\tlogin: ({email, password, rememberMe = false}) => {\r\n\t\treturn instance.post(`auth/login`, {\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t\trememberMe\r\n\t\t}).then(response => {\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t},\r\n\tlogout: () => {\r\n\t\treturn instance.delete(`auth/login`)\r\n\t\t\t.then( response => {\r\n\t\t\t\treturn response.data;\r\n\t\t\t})\r\n\t}\r\n};\r\n\r\nexport const profileAPI = {\r\n\tgetProfile: (userId) => {\r\n\t\treturn instance.get(`profile/${userId}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data;\r\n\t\t\t});\r\n\t},\r\n\tgetStatus: (userId) => {\r\n\t\treturn instance.get(`profile/status/${userId}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data;\r\n\t\t\t});\r\n\t},\r\n\tupdateStatus: (status) => {\r\n\t\treturn instance.put(`profile/status`, {status})\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data;\r\n\t\t\t});\r\n\t}\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2QouN\",\"item\":\"Navbar_item__3OQmx\",\"active\":\"Navbar_active__1a1tf\"};","import React from 'react';\nimport styles from './Navbar.module.scss';\nimport {NavLink} from \"react-router-dom\";\n\nconst Navbar = (props) => {\n\treturn (\n\t\t<nav className={styles.nav}>\n\t\t\t<div className={styles.item}>\n\t\t\t\t<NavLink to={'/profile'} activeClassName={styles.active}>Profile</NavLink>\n\t\t\t</div>\n\t\t\t<div className={styles.item}>\n\t\t\t\t<NavLink to={'/dialogs'} activeClassName={styles.active}>Message</NavLink>\n\t\t\t</div>\n\t\t\t<div className={styles.item}>\n\t\t\t\t<NavLink to={'/users'} activeClassName={styles.active}>Users</NavLink>\n\t\t\t</div>\n\t\t</nav>\n\t)\n};\n\nexport default Navbar;\n","import React from 'react';\nimport styles from \"./Header.module.scss\";\nimport {NavLink} from \"react-router-dom\";\n\nconst Header = ({isAuth, login, logout}) => {\n\treturn (\n\t\t<header className={styles.header}>\n\t\t\t<img alt=\"logo\"\n\t\t\t\t src=\"https://www.freelogodesign.org/file/app/client/thumb/38def5fa-b8ab-4a80-aaa6-5bd3897a1c22_200x200.png?1582029857631\"/>\n\t\t\t<div className={styles.loginBlock}>\n\t\t\t\t{\n\t\t\t\t\tisAuth ? (\n\t\t\t\t\t\t<span>{login} - <button onClick={logout}>Logout</button></span>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<NavLink to=\"/login\">Login</NavLink>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</div>\n\t\t</header>\n\t);\n};\n\nexport default Header;\n","import React, {Component} from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/authReducer\";\r\n\r\nclass HeaderContainer extends Component {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Header {...this.props}/>\r\n\t\t);\r\n\t}\r\n}\r\nconst mapStateToProps = ( state ) => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth,\r\n\t\tlogin: state.auth.login\r\n\t}\r\n};\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import {getAuthUserData} from \"./authReducer\";\r\n\r\nconst SET_INITIALIZED = 'social-berrr/app/SET-INITIALIZED';\r\n\r\nconst initialState = {\r\n\tinitialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_INITIALIZED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinitialized: true\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const initializedSuccess = () => (\r\n\t{\r\n\t\ttype: SET_INITIALIZED\r\n\t}\r\n);\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n\tlet getAuthData = dispatch(getAuthUserData());\r\n\r\n\tPromise.all([getAuthData])\r\n\t\t.then(() => dispatch(initializedSuccess()));\r\n};\r\n\r\nexport default appReducer;","const initialState = {\r\n\tfriends: [\r\n\t\t{id: 1, name: \"Alex\"},\r\n\t\t{id: 2, name: \"Dima\"},\r\n\t\t{id: 3, name: \"Dasha\"}\r\n\t]\r\n};\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\treturn state;\r\n};\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tdialogsPage: dialogsReducer,\r\n\tsidebarPage: sidebarReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tapp: appReducer,\r\n\tform: formReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nlet store = createStore(reducers,/* preloadedState, */ composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React, {Suspense} from 'react';\nimport Navbar from \"./components/Navbar\";\nimport './App.scss';\nimport {HashRouter, Route} from \"react-router-dom\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport {connect, Provider} from \"react-redux\";\nimport {withRouter} from \"react-router\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/appReducer\";\nimport Preloader from \"./components/Preloader\";\nimport store from \"./redux/reduxStore\";\n\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\"));\nconst LoginPage = React.lazy(() => import(\"./components/Login\"));\n\nclass App extends React.Component {\n\n\tcomponentDidMount() {\n\t\tthis.props.initializeApp();\n\t}\n\n\trender() {\n\t\tif (!this.props.initialized) {\n\t\t\treturn (<Preloader/>)\n\t\t}\n\t\treturn (\n\t\t\t<div className={`app-wrapper`}>\n\t\t\t\t<HeaderContainer/>\n\t\t\t\t<Navbar/>\n\t\t\t\t<div className={`app-wrapper-content`}>\n\t\t\t\t\t<Suspense fallback={<div>Loading...</div>}>\n\t\t\t\t\t\t<Route exact path={'/dialogs'} render={() => <DialogsContainer/>}/>\n\t\t\t\t\t\t<Route path={'/profile/:userId?'} render={() => <ProfileContainer/>}/>\n\t\t\t\t\t\t<Route exact path={'/users'} render={() => <UsersContainer/>}/>\n\t\t\t\t\t\t<Route exact path={'/login'} render={() => <LoginPage/>}/>\n\t\t\t\t\t</Suspense>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tinitialized: state.app.initialized\n\t}\n}\n\nconst AppContainer = compose(\n\twithRouter,\n\tconnect(mapStateToProps, {initializeApp})\n)(App);\n\nconst MainApp = (props) => {\n\treturn (\n\t\t<HashRouter>\n\t\t\t<Provider store={store}>\n\t\t\t\t<AppContainer/>\n\t\t\t</Provider>\n\t\t</HashRouter>\n\t)\n}\n\nexport default MainApp;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport MainApp from \"./App\";\nimport './index.css';\n\nReactDOM.render(\n\t<MainApp />, document.getElementById('root')\n);\n\n","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'social-berrr/auth/SET-USER-DATA';\r\n\r\nconst initialState = {\r\n\tuserId: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tisAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const setAuthUserData = (userId, login, email, isAuth) => (\r\n\t{\r\n\t\ttype: SET_USER_DATA,\r\n\t\tpayload: {userId, login, email, isAuth}\r\n\t}\r\n);\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n\tconst response = await authAPI.me();\r\n\tif (response.resultCode === 0) {\r\n\t\tconst {id: userId, login, email} = response.data;\r\n\t\tdispatch(setAuthUserData(userId, login, email, true));\r\n\t}\r\n};\r\n\r\nexport const login = (formData) => async (dispatch) => {\r\n\tconst response = await authAPI.login(formData);\r\n\r\n\tif (response.resultCode === 0) {\r\n\t\tdispatch(getAuthUserData());\r\n\t} else {\r\n\t\tlet message = response.messages.length > 0 ? response.messages[0] : \"Some error\";\r\n\t\tdispatch(stopSubmit('LoginForm', {_error: message}));\r\n\t}\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\tconst response = await authAPI.logout();\r\n\tif (response.resultCode === 0) {\r\n\t\tdispatch(setAuthUserData(null, null, null, false));\r\n\t}\r\n};\r\n\r\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2O1dA\",\"loginBlock\":\"Header_loginBlock__Gu1O6\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'social-berrr/profile/ADD-POST';\r\nconst DELETE_POST = 'social-berrr/profile/DELETE-POST';\r\nconst SET_USER_PROFILE = 'social-berrr/profile/SET-USER-PROFILE';\r\nconst SET_USER_STATUS = 'social-berrr/profile/SET-USER-STATUS';\r\n\r\nconst initialState = {\r\n\tprofile: null,\r\n\tposts: [\r\n\t\t{id: 1, message: \"So nice!\", likesCount: 15},\r\n\t\t{id: 2, message: \"Well, well, well\", likesCount: 0},\r\n\t\t{id: 3, message: \"Helllllloooooo!\", likesCount: 1},\r\n\t\t{id: 4, message: \"Hey hoo\", likesCount: 99}\r\n\t],\r\n\tstatus: \"\"\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST: {\r\n\t\t\tlet newPost = {\r\n\t\t\t\tid: 5,\r\n\t\t\t\tmessage: action.postText,\r\n\t\t\t\tlikesCount: 9\r\n\t\t\t};\r\n\t\t\treturn ({\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: [...state.posts, newPost]\r\n\t\t\t});\r\n\t\t}\r\n\t\tcase SET_USER_PROFILE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: action.profile\r\n\t\t\t};\r\n\t\tcase SET_USER_STATUS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: action.status\r\n\t\t\t};\r\n\t\tcase DELETE_POST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: state.posts.filter(el => el.id !== action.id)\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const addPostActionCreator = (postText) => {\r\n\treturn {\r\n\t\ttype: ADD_POST,\r\n\t\tpostText\r\n\t}\r\n};\r\n\r\nexport const setUserProfile = (profile) => {\r\n\treturn {\r\n\t\ttype: SET_USER_PROFILE,\r\n\t\tprofile\r\n\t}\r\n};\r\n\r\nexport const setUserStatus = (status) => {\r\n\treturn {\r\n\t\ttype: SET_USER_STATUS,\r\n\t\tstatus\r\n\t}\r\n};\r\nexport const deletePost = (postId) => {\r\n\treturn {\r\n\t\ttype: DELETE_POST,\r\n\t\tpostId\r\n\t}\r\n};\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n\tconst response = await profileAPI.getStatus(userId);\r\n\tdispatch(setUserStatus(response));\r\n};\r\n\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n\tconst response = await profileAPI.updateStatus(status);\r\n\r\n\tif (response.resultCode === 0) {\r\n\t\tdispatch(setUserStatus(status));\r\n\t}\r\n};\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n\tconst response = await usersAPI.getProfile(userId);\r\n\r\n\tdispatch(setUserProfile(response));\r\n};\r\n\r\nexport default profileReducer;","export const updateObjectInArray = (items, itemId, objectPropName, newObjProps) => {\r\n\treturn items.map((u) => {\r\n\t\tif (u[objectPropName] === itemId) {\r\n\t\t\treturn {\r\n\t\t\t\t...u,\r\n\t\t\t\t...newObjProps\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn u;\r\n\t})\r\n}","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/helpers/objectHelpers\";\r\n\r\nexport const FOLLOW = 'social-berrr/user/FOLLOW';\r\nexport const UNFOLLOW = 'social-berrr/user/UNFOLLOW';\r\nexport const SET_USERS = 'social-berrr/user/SET-USERS';\r\nexport const SET_CURRENT_PAGE = 'social-berrr/user/SET-CURRENT-PAGE';\r\nexport const SET_TOTAL_USERS_COUNT = 'social-berrr/user/SET-TOTAL-USERS-COUNT';\r\nexport const TOGGLE_IS_FETCHING = 'social-berrr/user/TOGGLE-IS-FETCHING';\r\nexport const TOGGLE_IS_FOLLOWING_PROGRESS = 'social-berrr/user/TOGGLE-IS-FOLLOWING-PROGRESS';\r\n\r\n\r\nconst initialState = {\r\n\tusers: [],\r\n\tpageSize: 5,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: false,\r\n\tfollowingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW :\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', {followed:true})\r\n\t\t\t};\r\n\t\tcase UNFOLLOW :\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', {followed:false})\r\n\t\t\t};\r\n\t\tcase SET_USERS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: [...action.users]\r\n\t\t\t};\r\n\t\tcase SET_CURRENT_PAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentPage: action.currentPage\r\n\t\t\t};\r\n\t\tcase SET_TOTAL_USERS_COUNT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttotalUsersCount: action.totalUsersCount\r\n\t\t\t};\r\n\t\tcase TOGGLE_IS_FETCHING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisFetching: action.isFetching\r\n\t\t\t};\r\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingInProgress: action.followingInProgress\r\n\t\t\t\t\t? [...state.followingInProgress, action.userId]\r\n\t\t\t\t\t: state.followingInProgress.filter(id => id !== action.userId)\r\n\t\t\t};\r\n\t\tcase 'FAKE' :\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfake: state.fake + 1\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const followSuccess = (userId) => (\r\n\t{\r\n\t\ttype: FOLLOW,\r\n\t\tuserId\r\n\t}\r\n);\r\nexport const unfollowSuccess = (userId) => (\r\n\t{\r\n\t\ttype: UNFOLLOW,\r\n\t\tuserId\r\n\t}\r\n);\r\n\r\nexport const setUsers = (users) => (\r\n\t{\r\n\t\ttype: SET_USERS,\r\n\t\tusers\r\n\t}\r\n);\r\n\r\nexport const setCurrentPage = (currentPage) => (\r\n\t{\r\n\t\ttype: SET_CURRENT_PAGE,\r\n\t\tcurrentPage\r\n\t}\r\n);\r\nexport const setTotalUsersCount = (totalUsersCount) => (\r\n\t{\r\n\t\ttype: SET_TOTAL_USERS_COUNT,\r\n\t\ttotalUsersCount\r\n\t}\r\n);\r\n\r\nexport const toggleIsFetching = (isFetching) => (\r\n\t{\r\n\t\ttype: TOGGLE_IS_FETCHING,\r\n\t\tisFetching\r\n\t}\r\n);\r\n\r\nexport const toggleFollowingProgress = (followingInProgress, userId) => (\r\n\t{\r\n\t\ttype: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n\t\tfollowingInProgress,\r\n\t\tuserId\r\n\t}\r\n);\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\tdispatch(toggleFollowingProgress(true, userId));\r\n\tconst response = await apiMethod(userId);\r\n\tif (response.resultCode === 0) {\r\n\t\tdispatch(actionCreator(userId));\r\n\t}\r\n\tdispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n\tdispatch(toggleFollowingProgress(true, userId));\r\n\tawait followUnfollowFlow(dispatch,userId, usersAPI.follow, followSuccess);\r\n};\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n\tdispatch(toggleFollowingProgress(true, userId));\r\n\tawait followUnfollowFlow(dispatch,userId, usersAPI.unfollow, unfollowSuccess);\r\n}\r\n\r\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\r\n\tdispatch(toggleIsFetching(true));\r\n\tdispatch(setCurrentPage(page));\r\n\tconst response = await usersAPI.getUsers(page, pageSize);\r\n\tdispatch(toggleIsFetching(false));\r\n\tdispatch(setUsers(response.items));\r\n\tdispatch(setTotalUsersCount(response.totalCount));\r\n};\r\n\r\nexport default usersReducer;","import React from 'react';\r\nimport styles from \"./Preloader.module.scss\";\r\n\r\nconst Preloader = () => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={styles.ldsDefault}>\r\n\t\t\t\t<div/>\r\n\t\t\t\t<div/>\r\n\t\t\t\t<div/>\r\n\t\t\t\t<div/>\r\n\t\t\t\t<div/>\r\n\t\t\t\t<div/>\r\n\t\t\t\t<div/>\r\n\t\t\t\t<div/>\r\n\t\t\t\t<div/>\r\n\t\t\t\t<div/>\r\n\t\t\t\t<div/>\r\n\t\t\t\t<div/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Preloader;","import Preloader from \"./Preloader\";\r\nexport default Preloader;","const SEND_MESSAGE = 'social-berrr/dialogs/SEND-MESSAGE';\r\nconst UPDATE_NEW_MESSAGE_BODY = 'social-berrr/dialogs/UPDATE-NEW-MESSAGE-BODY';\r\n\r\nconst initialState = {\r\n\tdialogs: [\r\n\t\t{id: 1, name: \"Katkov Alex\"},\r\n\t\t{id: 2, name: \"Koshel Artyom\"},\r\n\t\t{id: 3, name: \"Daiel Tal\"},\r\n\t\t{id: 4, name: \"Shulga Alex\"},\r\n\t\t{id: 5, name: \"Korotkevich Artyom\"},\r\n\t\t{id: 6, name: \"Vasilii Piun\"}\r\n\t],\r\n\tmessages: [\r\n\t\t{id: 1, message: \"Hello\"},\r\n\t\t{id: 2, message: \"Hi!\"},\r\n\t\t{id: 3, message: \"How are you?\"},\r\n\t\t{id: 4, message: \"What is this?\"},\r\n\t\t{id: 5, message: \"Nice hat!\"},\r\n\t\t{id: 6, message: \"What are you doing?\"},\r\n\t]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_MESSAGE_BODY:\r\n\t\t\treturn ({\r\n\t\t\t\t...state,\r\n\t\t\t\tnewMessageBody: action.body\r\n\t\t\t});\r\n\t\tcase SEND_MESSAGE:\r\n\t\t\treturn ({\r\n\t\t\t\t...state,\r\n\t\t\t\tnewMessageBody: \"\",\r\n\t\t\t\tmessages: [...state.messages, {id: 6, message: action.message}]\r\n\t\t\t});\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n\r\n};\r\n\r\nexport const updateNewMessageBodyCreator = (message) => {\r\n\treturn {\r\n\t\ttype: UPDATE_NEW_MESSAGE_BODY,\r\n\t\tbody: message\r\n\t}\r\n};\r\n\r\nexport const sendMessageCreator = (message) => {\r\n\treturn {\r\n\t\ttype: SEND_MESSAGE,\r\n\t\tmessage\r\n\t}\r\n};\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsDefault\":\"Preloader_ldsDefault__1LrMn\"};"],"sourceRoot":""}